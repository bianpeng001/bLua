[TOC]

# Cs2Lua

## 问题
跨语言调用, 总归是双向的. 所以, 经常有c#里面调用一个luafunction, 或者持有一个luatable的做法.
但还是有个隐患, 某些情况下会有循环引用, 导致内存无法释放.

比较常见的case: 在c#里面, 持有一个LuaTable, 往里面注册了一个闭包. 此时闭包里面引用住了c#实例. 这里就有了一个循环引用, 当依赖对方先释放, 自己才能释放时, 就内存泄露了.

## 改善方案
通过代码规范, 在c#端, 不持有luafunction或者luatable, 如果需要用, 则用完立刻释放. 
另外提供一个机制: Cs2Lua, 长相有点像RPC. 相当于c#发了一个消息给lua, 但不是函数调用, 且不关心返回值的用法.

